---
layout: page
title: "Preparing Metadata"
category: doc
date: 2020-03-25 19:11:17
order: 5
use_math: false
---

`AMiGA` can process one or multiple data files in a single command. These data files describe the optical density (or any other unit of measurement) in wells of one or more plates at different time points. `AMiGA` can analyze your data and report its results in text files where each row is a well and columns correspond to different summary metrics or growth parameters.

If you want to take advantage of several unique features of `AMiGA`, you should also pass meta-data or information about your plates or the specific wells in those plates. This can be done automatically by `AMiGA` if it recognizes that your data corresponds to a specific Biolog PM plate.

<br />

**The main types of mapping files auto-generated by AMiGA**

In the case of no meta-data available for a plate, the minimal internal mapping file generated by `AMiGA` will look like this:

||Plate_ID|
|:---|:---|
|A1|ER1_PM2-1|
|A2|ER1_PM2-1|
|...|...|
|H11|ER1_PM2-1|
|H12|ER1_PM2-1|

<br />

If it however recognizes the plate as a specific Biolog PM (based on its data file name), the internal mapping file generated by `AMiGA` will look like this:

||Plate_ID|Isolate|PM|Replicate|Substrate|Group|Control|
|:---|:---|:---|:---|:---|:---|:---|:---|
|A1|ER1_PM2-1|ER1|2|1|Negative Control|1|1|
|A2|ER1_PM2-1|ER1|2|1|Chondroitin Sulfate C|1|0|
|...|ER1_PM2-1|ER1|2|1|...|1|0|
|H11|ER1_PM2-1|ER1|2|1|2,3-Butanedione|1|0|
|H12|ER1_PM2-1|ER1|2|1|2-Hyrdoxy 2-Butanone|1|0|

<br />

**The main types of user-generated mapping files**

If you have a mapping file that describes the well in each of your plates, you can easily pass those information or descriptors to AMiGA by saving them in the `mapping` folder. This is recommended for data files that do not correspond to a standard plate of 96-wells. Here is an example for a hypothetical mapping for growth in only 8 wells of `data\CD_treA.txt` and saved as the `mapping\CD_treA.txt` file. `AMiGA` will only match mapping and data files if they share the exact file names. You also must make sure that the index column (i.e. well IDs) matches exactly the index column in the corresponding data files. Please save mapping files as tab-separated text files.

||Plate_ID|Isolate|Substrate|Ribotype|Comments|Group|Control|
|:---|:---|:---|:---|:---|:---|:---|:---|
|A1|CD_treA|CD89_wt|Negative Control|RT027|Wild-type|1|1|
|A2|CD_treA|CD89_wt|Negative Control|RT027|Wild-type|1|1|
|A3|CD_treA|CD89_wt|D-Trehalose|RT027|Wild-type|1|0|
|A4|CD_treA|CD89_wt|D-Trehalose|RT027|Wild-type|1|0|
|B1|CD_treA|CD89_ko|Negative Control|RT027|treA knock-out|2|1|
|B2|CD_treA|CD89_ko|Negative Control|RT027|treA knock-out|2|1|
|B3|CD_treA|CD89_ko|D-Trehalose|RT027|treA knock-out|2|0|
|B4|CD_treA|CD89_ko|D-Trehalose|RT027|treA knock-out|2|0|

<br />

If you have a mapping file that describes multiple plates in your `data` folder, you can also easily pass its information or descriptors to AMiGA as the `mapping\meta.txt` file. `AMiGA` will generate a plate-specific mapping file based on the content of this `mapping\meta.txt` file. If a specific plate listed in `mapping\meta.txt` is a Biolog PM, make sure to include a `PM` column with values between and including 1 and 7 and accordingly `AMiGA` will auto-generate a `Substrate` column in the plate-specific mapping files. `mapping\meta.txt` must include a `Plate_ID` column that matches the name of the data file (without the file extension). Using the `mapping\meta.txt` file, `AMiGA` will automatically generate individual mapping files for each plate unless an individual mapping file has already been provided by the user in `mapping` folder. Please save `mapping\meta.txt` as a tab-separated text file.

<br />

|Plate_ID|Species|Strain|PM|Isolate|Replicate|
|:---|:---|:---|:---|:---|
|ER1_PM1-1|E randomii|USA 1995|1|ER1|1|
|ER1-PM2-1|E randomii|USA 1995|2|ER1|1|
|ER2_PM1-1|E randomii|USA 1995|1|ER2|1|
|ER2_PM2-1|E randomii|USA 1995|2|ER2|1|
|ER3_PM1-1|E randomii|MEX 2019|1|ER3|1|
|ER3_PM2-1|E randomii|MEX 2019|2|ER3|1|
|ER4_PM1-1|E randomii|MEX 2019|1|ER4|1|
|ER4_PM2-1|E randomii|MEX 2019|2|ER4|1|

<br />

This approach can be very useful if you are processing Biolog plates where you want to describe the isolates in more details. As shown above, we include information about the species and strain designations for all isolates. We can accordingly use these meta-data labels for hypothesis testing.

<br />

**Mixed use of mapping and meta.txt**

You can pass mapping information using a mixture of the above options. You can have individual plate-specific mapping files in addition to a `mapping\meta.txt` file. However, a user-generated plate-specific mapping file will always supersede and over-ride the plate-specific info in `meta.txt`.
